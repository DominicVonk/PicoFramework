"use strict";function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _instanceof(e,t){return null!=t&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _get=function e(t,i,o){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,i);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,i,o)}if("value"in n)return n.value;var l=n.get;return void 0===l?void 0:l.call(o)},_set=function t(e,i,o,n){var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var l=Object.getPrototypeOf(e);null!==l&&t(l,i,o,n)}else if("value"in r&&r.writable)r.value=o;else{var s=r.set;void 0!==s&&s.call(n,o)}return o},_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}();Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t});var Pico={UI:{_newDomElement:function(){var e=document.createElement("pico");return e}}};Pico.AlignMode={Left:"left",Center:"center",Right:"right"},Pico.VerticalAlignMode={Top:"top",Center:"center",Bottom:"bottom"},Pico.Color=function(){function e(t,i,o,n){if(_classCallCheck(this,e),"undefined"==typeof i)if("#"===t.substr(0,1)){var r=t.substr(1).split("");3==r.length?(this._red=parseInt(r[0]+r[0],16),this._green=parseInt(r[1]+r[1],16),this._blue=parseInt(r[2]+r[2],16)):(this._red=parseInt(r[0]+r[1],16),this._green=parseInt(r[2]+r[3],16),this._blue=parseInt(r[4]+r[5],16)),this._alpha=100}else{var l=(l+"").toLowerCase();for(var s in Pico.Colors)if(Pico.Colors.hasOwnProperty(s)&&(s+"").toLowerCase()==l){var c=Pico.Colors[s];this._red=c.red,this._green=c.green,this._blue=c.blue,this._alpha=c.alpha;break}}else"undefined"==typeof n?(this._red=t,this._green=i,this._blue=o,this._alpha=100):(this._red=t,this._green=i,this._blue=o,this._alpha=n)}return _createClass(e,[{key:"toRgba",value:function(){return"rgba("+this._red+", "+this._green+", "+this._blue+", "+Math.floor(this._alpha/100)+")"}},{key:"toRgb",value:function(){return"rgb("+this._red+", "+this._green+", "+this._blue+")"}},{key:"toHex",value:function(){var e=this._red<17?"0"+this._red.toString(16):this._red.toString(16),t=this._green<17?"0"+this._green.toString(16):this._green.toString(16),i=this._blue<17?"0"+this._blue.toString(16):this._blue.toString(16);return"#"+e+t+i}},{key:"alpha",get:function(){return this._alpha},set:function(e){this._alpha=e}},{key:"red",get:function(){return this._red},set:function(e){this._red=e}},{key:"green",get:function(){return this._green},set:function(e){this._green=e}},{key:"blue",get:function(){return this._blue},set:function(e){this._blue=e}}],[{key:"fromRgba",value:function(e,t,i,o){return new Pico.Color(e,t,i,o)}},{key:"fromRgb",value:function(e,t,i){return new Pico.Color(e,t,i,100)}},{key:"fromHex",value:function(e){return new Pico.Color(e)}},{key:"fromColorName",value:function(e){return new Pico.Color(e)}}]),e}(),Pico.Colors={AliceBlue:new Pico.Color("#F0F8FF"),AntiqueWhite:new Pico.Color("#FAEBD7"),Aqua:new Pico.Color("#00FFFF"),Aquamarine:new Pico.Color("#7FFFD4"),Azure:new Pico.Color("#F0FFFF"),Beige:new Pico.Color("#F5F5DC"),Bisque:new Pico.Color("#FFE4C4"),Black:new Pico.Color("#000000"),BlanchedAlmond:new Pico.Color("#FFEBCD"),Blue:new Pico.Color("#0000FF"),BlueViolet:new Pico.Color("#8A2BE2"),Brown:new Pico.Color("#A52A2A"),BurlyWood:new Pico.Color("#DEB887"),CadetBlue:new Pico.Color("#5F9EA0"),Chartreuse:new Pico.Color("#7FFF00"),Chocolate:new Pico.Color("#D2691E"),Coral:new Pico.Color("#FF7F50"),CornflowerBlue:new Pico.Color("#6495ED"),Cornsilk:new Pico.Color("#FFF8DC"),Crimson:new Pico.Color("#DC143C"),Cyan:new Pico.Color("#00FFFF"),DarkBlue:new Pico.Color("#00008B"),DarkCyan:new Pico.Color("#008B8B"),DarkGoldenRod:new Pico.Color("#B8860B"),DarkGray:new Pico.Color("#A9A9A9"),DarkGreen:new Pico.Color("#006400"),DarkKhaki:new Pico.Color("#BDB76B"),DarkMagenta:new Pico.Color("#8B008B"),DarkOliveGreen:new Pico.Color("#556B2F"),DarkOrange:new Pico.Color("#FF8C00"),DarkOrchid:new Pico.Color("#9932CC"),DarkRed:new Pico.Color("#8B0000"),DarkSalmon:new Pico.Color("#E9967A"),DarkSeaGreen:new Pico.Color("#8FBC8F"),DarkSlateBlue:new Pico.Color("#483D8B"),DarkSlateGray:new Pico.Color("#2F4F4F"),DarkTurquoise:new Pico.Color("#00CED1"),DarkViolet:new Pico.Color("#9400D3"),DeepPink:new Pico.Color("#FF1493"),DeepSkyBlue:new Pico.Color("#00BFFF"),DimGray:new Pico.Color("#696969"),DodgerBlue:new Pico.Color("#1E90FF"),FireBrick:new Pico.Color("#B22222"),FloralWhite:new Pico.Color("#FFFAF0"),ForestGreen:new Pico.Color("#228B22"),Fuchsia:new Pico.Color("#FF00FF"),Gainsboro:new Pico.Color("#DCDCDC"),GhostWhite:new Pico.Color("#F8F8FF"),Gold:new Pico.Color("#FFD700"),GoldenRod:new Pico.Color("#DAA520"),Gray:new Pico.Color("#808080"),Green:new Pico.Color("#008000"),GreenYellow:new Pico.Color("#ADFF2F"),HoneyDew:new Pico.Color("#F0FFF0"),HotPink:new Pico.Color("#FF69B4"),IndianRed:new Pico.Color("#CD5C5C"),Indigo:new Pico.Color("#4B0082"),Ivory:new Pico.Color("#FFFFF0"),Khaki:new Pico.Color("#F0E68C"),Lavender:new Pico.Color("#E6E6FA"),LavenderBlush:new Pico.Color("#FFF0F5"),LawnGreen:new Pico.Color("#7CFC00"),LemonChiffon:new Pico.Color("#FFFACD"),LightBlue:new Pico.Color("#ADD8E6"),LightCoral:new Pico.Color("#F08080"),LightCyan:new Pico.Color("#E0FFFF"),LightGoldenRodYellow:new Pico.Color("#FAFAD2"),LightGray:new Pico.Color("#D3D3D3"),LightGreen:new Pico.Color("#90EE90"),LightPink:new Pico.Color("#FFB6C1"),LightSalmon:new Pico.Color("#FFA07A"),LightSeaGreen:new Pico.Color("#20B2AA"),LightSkyBlue:new Pico.Color("#87CEFA"),LightSlateGray:new Pico.Color("#778899"),LightSteelBlue:new Pico.Color("#B0C4DE"),LightYellow:new Pico.Color("#FFFFE0"),Lime:new Pico.Color("#00FF00"),LimeGreen:new Pico.Color("#32CD32"),Linen:new Pico.Color("#FAF0E6"),Magenta:new Pico.Color("#FF00FF"),Maroon:new Pico.Color("#800000"),MediumAquaMarine:new Pico.Color("#66CDAA"),MediumBlue:new Pico.Color("#0000CD"),MediumOrchid:new Pico.Color("#BA55D3"),MediumPurple:new Pico.Color("#9370DB"),MediumSeaGreen:new Pico.Color("#3CB371"),MediumSlateBlue:new Pico.Color("#7B68EE"),MediumSpringGreen:new Pico.Color("#00FA9A"),MediumTurquoise:new Pico.Color("#48D1CC"),MediumVioletRed:new Pico.Color("#C71585"),MidnightBlue:new Pico.Color("#191970"),MintCream:new Pico.Color("#F5FFFA"),MistyRose:new Pico.Color("#FFE4E1"),Moccasin:new Pico.Color("#FFE4B5"),NavajoWhite:new Pico.Color("#FFDEAD"),Navy:new Pico.Color("#000080"),OldLace:new Pico.Color("#FDF5E6"),Olive:new Pico.Color("#808000"),OliveDrab:new Pico.Color("#6B8E23"),Orange:new Pico.Color("#FFA500"),OrangeRed:new Pico.Color("#FF4500"),Orchid:new Pico.Color("#DA70D6"),PaleGoldenRod:new Pico.Color("#EEE8AA"),PaleGreen:new Pico.Color("#98FB98"),PaleTurquoise:new Pico.Color("#AFEEEE"),PaleVioletRed:new Pico.Color("#DB7093"),PapayaWhip:new Pico.Color("#FFEFD5"),PeachPuff:new Pico.Color("#FFDAB9"),Peru:new Pico.Color("#CD853F"),Pink:new Pico.Color("#FFC0CB"),Plum:new Pico.Color("#DDA0DD"),PowderBlue:new Pico.Color("#B0E0E6"),Purple:new Pico.Color("#800080"),RebeccaPurple:new Pico.Color("#663399"),Red:new Pico.Color("#FF0000"),RosyBrown:new Pico.Color("#BC8F8F"),RoyalBlue:new Pico.Color("#4169E1"),SaddleBrown:new Pico.Color("#8B4513"),Salmon:new Pico.Color("#FA8072"),SandyBrown:new Pico.Color("#F4A460"),SeaGreen:new Pico.Color("#2E8B57"),SeaShell:new Pico.Color("#FFF5EE"),Sienna:new Pico.Color("#A0522D"),Silver:new Pico.Color("#C0C0C0"),SkyBlue:new Pico.Color("#87CEEB"),SlateBlue:new Pico.Color("#6A5ACD"),SlateGray:new Pico.Color("#708090"),Snow:new Pico.Color("#FFFAFA"),SpringGreen:new Pico.Color("#00FF7F"),SteelBlue:new Pico.Color("#4682B4"),Tan:new Pico.Color("#D2B48C"),Teal:new Pico.Color("#008080"),Thistle:new Pico.Color("#D8BFD8"),Tomato:new Pico.Color("#FF6347"),Turquoise:new Pico.Color("#40E0D0"),Violet:new Pico.Color("#EE82EE"),Wheat:new Pico.Color("#F5DEB3"),White:new Pico.Color("#FFFFFF"),WhiteSmoke:new Pico.Color("#F5F5F5"),Yellow:new Pico.Color("#FFFF00"),YellowGreen:new Pico.Color("#9ACD32"),Transparent:new Pico.Color(0,0,0,0),PicoWindow:new Pico.Color(40,40,40,100),PicoText:new Pico.Color(240,240,240,100),PicoLink:new Pico.Color(64,164,255)},Pico.Cursor=function(){function e(t,i){_classCallCheck(this,e),this._name=t,this._noImage=i}return _createClass(e,[{key:"image",set:function(e){this._name=e,this._noImage=!1},get:function(){return this._name}},{key:"style",get:function(){return this._noImage?this._name:"url("+this._name+")"}}]),e}(),Pico.Cursors={Auto:new Pico.Cursor("auto",!0),Default:new Pico.Cursor("default",!0),ContextMenu:new Pico.Cursor("context-menu",!0),Help:new Pico.Cursor("help",!0),Pointer:new Pico.Cursor("pointer",!0),Progress:new Pico.Cursor("progress",!0),Wait:new Pico.Cursor("wait",!0),Cell:new Pico.Cursor("cell",!0),Crosshair:new Pico.Cursor("crosshair",!0),Text:new Pico.Cursor("text",!0),Alias:new Pico.Cursor("alias",!0),Copy:new Pico.Cursor("copy",!0),Move:new Pico.Cursor("move",!0),NResize:new Pico.Cursor("n-resize",!0),EResize:new Pico.Cursor("e-resize",!0),SResize:new Pico.Cursor("s-resize",!0),WResize:new Pico.Cursor("w-resize",!0),NSResize:new Pico.Cursor("ns-resize",!0),EWResize:new Pico.Cursor("ew-resize",!0),NEResize:new Pico.Cursor("ne-resize",!0),NWResize:new Pico.Cursor("nw-resize",!0),SEResize:new Pico.Cursor("se-resize",!0),SWResize:new Pico.Cursor("sw-resize",!0),NESWResize:new Pico.Cursor("nesw-resize",!0),NWSEResize:new Pico.Cursor("nwse-resize",!0)},Pico.FontStyle={ExtraLight:0,ExtraLightItalic:1,Light:2,LightItalic:3,Book:4,BookItalic:5,Normal:6,Italic:7,Medium:8,MediumItalic:9,SemiBold:10,SemiBoldItalic:11,Bold:2,BoldItalic:3,Black:14,BlackItalic:15,ExtraBlack:16,ExtraBlackItalic:17},Pico.Font=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?"Arial":arguments[0],i=arguments.length<=1||void 0===arguments[1]?12:arguments[1],o=arguments.length<=2||void 0===arguments[2]?Pico.FontStyle.Normal:arguments[2],n=arguments.length<=3||void 0===arguments[3]?!1:arguments[3];_classCallCheck(this,e),this._family=t,this._size=i,this._type=o,this._underline=n}return _createClass(e,[{key:"toCSSArgs",value:function(){return{fontFamily:'"'+this._family+'", sans-serif',fontSize:this._size+"px",fontStyle:this._type%2==1?"italic":"normal",fontWeight:100*(Math.floor(this._type/2)+1),textDecoration:this._underline?"underline":"none"}}},{key:"family",set:function(e){this._family=e},get:function(){return this._family}},{key:"size",set:function(e){this._size=e},get:function(){return this._size}},{key:"type",set:function(e){this._type>-1&&this.type<18?this._type=e:this._type=Pico.FontStyle.Normal},get:function(){return this._type}},{key:"underline",set:function(e){this._underline=e},get:function(){return this._underline}}]),e}(),Pico.Margin=function(){function e(t,i,o,n,r){_classCallCheck(this,e),this._top=t,"undefined"!=typeof i?(this._left=i,this._bottom=o,this._right=n):(this._left=t,this._bottom=t,this._right=t),"undefined"!=typeof r&&(this._picoObject=r),this.apply()}return _createClass(e,[{key:"apply",value:function(){"undefined"!=typeof this._picoObject&&(this._picoObject.domElement.style.margin=this._top+"px "+this._right+"px "+this._bottom+"px "+this._left+"px")}},{key:"top",set:function(e){this._top=e,this.apply()},get:function(){return this._top}},{key:"left",set:function(e){this._left=e,this.apply()},get:function(){return this._left}},{key:"bottom",set:function(e){this._bottom=e,this.apply()},get:function(){return this._bottom}},{key:"right",set:function(e){this._right=e,this.apply()},get:function(){return this._right}}]),e}(),Pico.Padding=function(){function e(t,i,o,n,r){_classCallCheck(this,e),this._top=t,"undefined"!=typeof i?(this._left=i,this._bottom=o,this._right=n):(this._left=t,this._bottom=t,this._right=t),"undefined"!=typeof r&&(this._picoObject=r),this.apply()}return _createClass(e,[{key:"apply",value:function(){"undefined"!=typeof this._picoObject&&(this._picoObject.domElement.style.padding=this._top+"px "+this._right+"px "+this._bottom+"px "+this._left+"px")}},{key:"top",set:function(e){this._top=e,this.apply()},get:function(){return this._top}},{key:"left",set:function(e){this._left=e,this.apply()},get:function(){return this._left}},{key:"bottom",set:function(e){this._bottom=e,this.apply()},get:function(){return this._bottom}},{key:"right",set:function(e){this._right=e,this.apply()},get:function(){return this._right}}]),e}(),Pico.Position=function(){function e(t,i,o){_classCallCheck(this,e),this._x=t,this._y=i,"undefined"!=typeof o&&(this._picoObject=o),this.apply()}return _createClass(e,[{key:"apply",value:function(){"undefined"!=typeof this._picoObject&&(this._picoObject.domElement.style.left=this._x+"px",this._picoObject.domElement.style.top=this._y+"px")}},{key:"x",set:function(e){this._x=e,this.apply()},get:function(){return this._x}},{key:"y",set:function(e){this._y=e,this.apply()},get:function(){return this._y}}]),e}(),Pico.Size=function(){function e(t,i,o){_classCallCheck(this,e),this._width=t,this._height=i,"undefined"!=typeof o&&(this._picoObject=o),this.apply()}return _createClass(e,[{key:"apply",value:function(){"undefined"!=typeof this._picoObject&&(this._picoObject.domElement.style.height=this._height+"px",this._picoObject.domElement.style.width=this._width+"px")}},{key:"width",set:function(e){this._width=e,this.apply()},get:function(){return this._width}},{key:"height",set:function(e){this._height=e,this.apply()},get:function(){return this._height}}]),e}(),Pico.SizeMode={Normal:1,Cover:2,Contain:3,Stretch:4},Pico.UI._Elements=function(){function e(t){_classCallCheck(this,e),this._array=[],this._domElement=t}return _createClass(e,[{key:"add",value:function(){for(var e=arguments.length,t=Array(e),i=0;e>i;i++)t[i]=arguments[i];for(var o=0;o<t.length;o++)this._array.push(t[o]),this._domElement.appendChild(t[o].domElement)}},{key:"get",value:function(e){return this.array[e]}},{key:"removeLast",value:function(){var e=this._array.pop();return this._domElement.removeChild(e.domElement),e}},{key:"removeAt",value:function(e){var t=this._array.splice(e,1);return this._domElement.removeChild(t.domElement),t}},{key:"addAt",value:function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;t>o;o++)i[o-1]=arguments[o];this._array.splice(e,0,i);if(this._domElement.childNodes[e]===this._domElement.lastChild)for(var e=0;e<i.length;e++)this._domElement.appendChild(i[e].domElement);else for(var e=0;e<i.length;e++)this._domElement.insertBefore(i[e].domElement,this._domElement.childNodes[e].nextSibling)}}]),e}(),Pico.UI._Event=function(){function e(t,i,o){_classCallCheck(this,e),this._array=[],this._control=t,this._jsEvent=o,this._eventName=i;var n=this;this._listener=function(e){for(var t=0;t<n._array.length;t++)n._array[t](this._control,e)},this._eventSet=!1}return _createClass(e,[{key:"add",value:function(){for(var e=arguments.length,t=Array(e),i=0;e>i;i++)t[i]=arguments[i];for(var o=0;o<t.length;o++)this._array.push(t[o]);this._eventSet||(this._jsEvent&&this._control.domElement.addEventListener(this._eventName,this._listener),this._eventSet=!0)}},{key:"remove",value:function(e){-1===this._array.indexOf(e)&&this._array.splice(this._array.indexOf(e),1),this._eventSet&&0===this._array.length&&(this._jsEvent&&this._control.domElement.removeEventListener(this._eventName,this._listener),this._eventSet=!1)}},{key:"trigger",value:function(){this._listener(this._control)}}]),e}(),Pico.UI.Control=function(){function e(){_classCallCheck(this,e),this._events={},this._listeners={},this._domElement=Pico.UI._newDomElement(),this.eventClick=new Pico.UI._Event(this,"click",!0),this.eventMouseDown=new Pico.UI._Event(this,"mousedown",!0),this.eventMouseUp=new Pico.UI._Event(this,"mouseup",!0),this.eventMouseMove=new Pico.UI._Event(this,"mousemove",!0),this.eventMouseEnter=new Pico.UI._Event(this,"mouseenter",!0),this.eventMouseLeave=new Pico.UI._Event(this,"mouseleave",!0),this.eventResized=new Pico.UI._Event(this,"resized",!0),this.eventBackgroundChanged=new Pico.UI._Event(this,"backgroundChanged"),this.eventForegroundChanged=new Pico.UI._Event(this,"foregroundChanged"),this.eventVisibleChanged=new Pico.UI._Event(this,"visiblechanged"),this.eventMoved=new Pico.UI._Event(this,"moved"),this._domElement.style.overflow="hidden",this.size=new Pico.Size(0,0),this.position=new Pico.Position(0,0),this.padding=new Pico.Padding(0),this.margin=new Pico.Margin(0),this.visible=!0,this.cursor=Pico.Cursors.Default,this.foreground=Pico.Colors.PicoText,this.background=Pico.Colors.PicoWindow}return _createClass(e,[{key:"margin",set:function(e){_instanceof(e,Pico.Margin)&&(this._margin=new Pico.Margin(e.top,e.left,e.bottom,e.right,this))},get:function(){return this._margin}},{key:"padding",set:function(e){_instanceof(e,Pico.Padding)&&(this._padding=new Pico.Padding(e.top,e.left,e.bottom,e.right,this))},get:function(){return this._padding}},{key:"background",set:function(e){_instanceof(e,Pico.Color)?this._background=e:this._background=new Pico.Color(e),this._domElement.style.backgroundColor=this._background.toRgba(),this.eventBackgroundChanged.trigger()},get:function(){return Object.create(this._background)}},{key:"foreground",set:function(e){_instanceof(e,Pico.Color)?this._foreground=e:this._foreground=new Pico.Color(e),this._domElement.style.color=this._foreground.toRgba(),this.eventForegroundChanged.trigger()},get:function(){return Object.create(this._foreground)}},{key:"cursor",set:function(e){_instanceof(e,Pico.Cursor)&&(this._cursor=e,this._domElement.style.cursor=this._cursor.style)},get:function(){return Object.create(this._cursor)}},{key:"position",set:function(e){_instanceof(e,Pico.Position)&&(this._position=new Pico.Position(e.x,e.y,this),this.eventMoved.trigger())},get:function(){return this._position}},{key:"size",set:function(e){_instanceof(e,Pico.Size)&&(this._size=new Pico.Size(e.width,e.height,this),this.eventResized.trigger())},get:function(){return this._size}},{key:"visible",set:function(e){this._visible=e,this._domElement.style.display=this._visible?"block":"none",this.eventVisibleChanged.trigger()},get:function(){return this._visible}},{key:"domElement",get:function(){return this._domElement}}]),e}(),Pico.UI.Panel=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this));return e._domElements=Pico.UI._newDomElement(),e._domElements.className="pico-elements",e._domElement.appendChild(e._domElements),e._domElement.className="pico-panel",e._elements=new Pico.UI._Elements(e._domElements),e}return _inherits(t,e),_createClass(t,[{key:"elements",get:function(){return this._elements}}]),t}(Pico.UI.Control),Pico.UI.Window=function(e){function t(e){_classCallCheck(this,t);var i=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this));i.visible=!1,i._title=void 0===e?"":e,i._titleElement=Pico.UI._newDomElement(),i._titleElement.className="pico-window-title",i._titleElement.innerHTML=i._title,i._minimizeElement=Pico.UI._newDomElement(),i._minimizeElement.className="pico-minimize",i._minimizeElement.innerHTML="–︎",i._domElement.className="pico-window",i._domElement.appendChild(i._titleElement),i._domElement.appendChild(i._minimizeElement);var o={},n=!1,r=!0,l=i;i._minimizeElement.addEventListener("click",function(e){r?(e.target.innerHTML="◻",l._domElement.style.height="20px",l._elements._domElement.style.display="none"):(e.target.innerHTML="–︎",l._domElement.style.height=l.size.height+"px",l.position.y+l.size.height>=window.innerHeight&&(l.position=new Pico.Position(l.position.x,l.position.y-(l.position.y+l.size.height-window.innerHeight))),l._elements._domElement.style.display="block"),r=!r}),i._titleElement.addEventListener("mousedown",function(e){o.x=e.offsetX,o.y=e.offsetY,n=!0});var l=i;return window.addEventListener("mousemove",function(e){if(n){var t=e.pageX,i=e.pageY;t-=o.x,i-=o.y,0>t&&(t=0),0>i&&(i=0),t+l._titleElement.clientWidth>=window.innerWidth&&(t=window.innerWidth-l._titleElement.clientWidth-1),i+l._domElement.clientHeight>=window.innerHeight&&(i=window.innerHeight-l._domElement.clientHeight),l.position=new Pico.Position(t,i)}}),window.addEventListener("mouseup",function(){n=!1}),i}return _inherits(t,e),_createClass(t,[{key:"show",value:function(){this.visible=!0,document.body.appendChild(this._domElement)}},{key:"hide",value:function(){this.visible=!1,document.body.removeChild(this._domElement)}},{key:"title",set:function(e){this._title=e,this._titleElement.innerHTML=this._title},get:function(){return this._title}}]),t}(Pico.UI.Panel),Pico.UI.Label=function(e){function t(e){_classCallCheck(this,t);var i=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this));i._text=void 0===e?"":e,i._domElement.className="pico-label",i._domElement.innerHTML=i._text,i._font=new Pico.Font,i._alignMode=Pico.AlignMode.Left;var o=i._font.toCSSArgs();return i._domElement.style.fontSize=o.fontSize,i._domElement.style.fontWeight=o.fontWeight,i._domElement.style.textDecoration=o.textDecoration,i._domElement.style.fontStyle=o.fontStyle,i._domElement.style.fontFamily=o.fontFamily,i._domElement.style.textAlign=i._alignMode,i}return _inherits(t,e),_createClass(t,[{key:"font",set:function(e){if(_instanceof(e,Pico.Font)){this._font=e;var t=this._font.toCSSArgs();this._domElement.style.fontSize=t.fontSize,this._domElement.style.fontWeight=t.fontWeight,this._domElement.style.textDecoration=t.textDecoration,this._domElement.style.fontStyle=t.fontStyle,this._domElement.style.fontFamily=t.fontFamily}},get:function(){return Object.create(this._font)}},{key:"text",set:function(e){this._text=e,this._domElement.innerHTML=this._text},get:function(){return this._text}},{key:"alignMode",set:function(e){this._alignMode=e,this._domElement.style.textAlign=this._alignMode},get:function(){return this._alignMode}}]),t}(Pico.UI.Control),Pico.UI.LinkLabel=function(e){function t(e,i){_classCallCheck(this,t);var o=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,e));o._domElement.className="pico-linklabel",o._href=i,o.foreground=Pico.Colors.PicoLink;var n=o.font;n.underline=!0,o.font=n,o.cursor=Pico.Cursors.Pointer;var r=o;return o._domElement.addEventListener("click",function(e){window.open(r._href,"new")}),o}return _inherits(t,e),_createClass(t,[{key:"href",set:function(e){this._href=e},get:function(){return this._href}}]),t}(Pico.UI.Label),Pico.UI.Picture=function(e){function t(e){_classCallCheck(this,t);var i=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this));return i._image=e,i._sizeMode=Pico.SizeMode.Normal,i._imageRepeat=!0,i._domElement.className="pico-picture",i._domElement.style.backgroundImage="url("+i._image+")",i._alignMode=Pico.AlignMode.Left,i._verticalAlignMode=Pico.VerticalAlignMode.Top,i._domElement.style.backgroundPosition=i._verticalAlignMode+" "+i._alignMode,i._domElement.style.backgroundRepeat=i._imageRepeat?"repeat":"no-repeat",i}return _inherits(t,e),_createClass(t,[{key:"image",set:function(e){this._image=e,this._domElement.style.backgroundImage="url("+e+")"},get:function(){return this._image}},{key:"size",set:function(e){_set(Object.getPrototypeOf(t.prototype),"size",e,this),this._sizeMode===Pico.SizeMode.Normal?(this._domElement.style.webkitBackgroundSize="",this._domElement.style.backgroundSize=""):this._sizeMode===Pico.SizeMode.Cover?(this._domElement.style.webkitBackgroundSize="cover",this._domElement.style.backgroundSize="cover"):this._sizeMode===Pico.SizeMode.Contain?(this._domElement.style.webkitBackgroundSize="contain",this._domElement.style.backgroundSize="contain"):this._sizeMode===Pico.SizeMode.Stretch&&(this._domElement.style.webkitBackgroundSize=e.width+"px "+e.height+"px",this._domElement.style.backgroundSize=e.width+"px "+e.height+"px")},get:function(){return _get(Object.getPrototypeOf(t.prototype),"size",this)}},{key:"sizeMode",set:function(e){this._sizeMode=e,this.size=this.size},get:function(){return this._sizeMode}},{key:"alignMode",set:function(e){this._alignMode=e,this._domElement.style.backgroundPosition=this._verticalAlignMode+" "+this._alignMode},get:function(){return this._alignMode}},{key:"verticalAlignMode",set:function(e){this._verticalAlignMode=e,this._domElement.style.backgroundPosition=this._verticalAlignMode+" "+this._alignMode},get:function(){return this._verticalAlignMode}},{key:"imageRepeat",set:function(e){this._imageRepeat=e,this._domElement.style.backgroundRepeat=this._imageRepeat?"repeat":"no-repeat"},get:function(){return this._imageRepeat}}]),t}(Pico.UI.Control),Pico.UI.Button=function(e){function t(e){_classCallCheck(this,t);var i=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,e));i._domElement.style.borderRadius="3px",i.padding=new Pico.Padding(5,5,5,5),i.background=new Pico.Color(70,70,70),i._domElement.className="pico-button",i.cursor=Pico.Cursors.Pointer,i._domElement.style.mozTransition="background-image 300ms ease",i._domElement.style.webkitTransition="background-image 300ms ease",i._domElement.style.msTransition="background-image 300ms ease",i._domElement.style.oTransition="background-image 300ms ease",i._domElement.style.backgroundImage="url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIHByZXNlcnZlQXNwZWN0UmF0aW89ImZhbHNlIj48ZGVmcz4gPGxpbmVhckdyYWRpZW50IGlkPSJsZ3JhZCIgeDE9IjUwJSIgeTE9IjEwMCUiIHgyPSI1MCUiIHkyPSIwJSIgPiA8c3RvcCBvZmZzZXQ9IjAlIiBzdHlsZT0ic3RvcC1jb2xvcjpyZ2IoMCwwLDApO3N0b3Atb3BhY2l0eTowLjEiIC8+PHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjpyZ2IoMjU1LDI1NSwyNTUpO3N0b3Atb3BhY2l0eTowLjEiIC8+PC9saW5lYXJHcmFkaWVudD4gPC9kZWZzPjxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjbGdyYWQpIi8+PC9zdmc+)";var o=i;return i._domElement.addEventListener("mouseenter",function(){o._domElement.style.backgroundImage="url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIHByZXNlcnZlQXNwZWN0UmF0aW89ImZhbHNlIj48ZGVmcz4gPGxpbmVhckdyYWRpZW50IGlkPSJsZ3JhZCIgeDE9IjUwJSIgeTE9IjEwMCUiIHgyPSI1MCUiIHkyPSIwJSIgPiA8c3RvcCBvZmZzZXQ9IjAlIiBzdHlsZT0ic3RvcC1jb2xvcjpyZ2IoMjU1LDI1NSwyNTUpO3N0b3Atb3BhY2l0eTowLjEiIC8+PHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjpyZ2IoMCwwLDApO3N0b3Atb3BhY2l0eTowLjEiIC8+PC9saW5lYXJHcmFkaWVudD4gPC9kZWZzPjxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjbGdyYWQpIi8+PC9zdmc+)"}),i._domElement.addEventListener("mouseleave",function(){o._domElement.style.backgroundImage="url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIHByZXNlcnZlQXNwZWN0UmF0aW89ImZhbHNlIj48ZGVmcz4gPGxpbmVhckdyYWRpZW50IGlkPSJsZ3JhZCIgeDE9IjUwJSIgeTE9IjEwMCUiIHgyPSI1MCUiIHkyPSIwJSIgPiA8c3RvcCBvZmZzZXQ9IjAlIiBzdHlsZT0ic3RvcC1jb2xvcjpyZ2IoMCwwLDApO3N0b3Atb3BhY2l0eTowLjEiIC8+PHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjpyZ2IoMjU1LDI1NSwyNTUpO3N0b3Atb3BhY2l0eTowLjEiIC8+PC9saW5lYXJHcmFkaWVudD4gPC9kZWZzPjxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjbGdyYWQpIi8+PC9zdmc+)"}),i}return _inherits(t,e),t}(Pico.UI.Label),Pico.UI.TextBox=function(e){function t(e){_classCallCheck(this,t);var i=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,e));i._domElement.style.border="1px solid #686868",i.padding=new Pico.Padding(5,5,5,5),i._domElement.contentEditable=!0,i._domElement.style.outline="0",i._domElement.className="pico-textbox",i.eventTextChanged=new Pico.UI._Event(i,"textchanged");var o=i;return i._multiline=!1,i._domElement.addEventListener("keydown",function(e){o._multiline||13==e.keyCode&&e.preventDefault()}),i._domElement.addEventListener("paste",function(e){e.preventDefault();var t=e.clipboardData.getData("text/plain");o._multiline||(t=t.replace(/\r\n/g," ").replace(/\n/g," ")),document.execCommand("inserttext",!1,t),o.eventTextChanged.trigger()}),i._domElement.addEventListener("keyup",function(){o._text=o._domElement.innerHTML.replace(/<div>(.*?)<\/div>/g,"$1\n").replace(/<br>/g,"\n"),o.eventTextChanged.trigger()}),i}return _inherits(t,e),_createClass(t,[{key:"text",set:function(e){this._text=e,this._domElement.innerHTML=this._text.replace(/\n/g,"<br>")},get:function(){return this._text}},{key:"multiline",set:function(e){this._multiline=e},get:function(){return this._multiline}}]),t}(Pico.UI.Label),Pico.UI.CheckBox=function(e){function t(e,i){_classCallCheck(this,t);var o=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,e));o._domElement.className="pico-checkbox",o.eventCheckChanged=new Pico.UI._Event(o,"checkChanged"),o.checked=i?!0:!1,o._domElement.style.backgroundRepeat="no-repeat",o._domElement.style.backgroundPosition="left center",o.padding=new Pico.Padding(3);var n=o;return o._domElement.addEventListener("click",function(){n.checked=!n.checked}),o}return _inherits(t,e),_createClass(t,[{key:"checked",set:function(e){this._checked=e;var t="url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB3aWR0aD0iMTJweCIgaGVpZ2h0PSIxMnB4IiB2aWV3Qm94PSIwIDAgMTIgMTIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeG1sbnM6c2tldGNoPSJodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2gvbnMiPiAgICAgICAgPHRpdGxlPlJlY3RhbmdsZSA5IENvcHkgMyArIExpbmUgKyBMaW5lIENvcHk8L3RpdGxlPiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4gICAgPGRlZnM+PC9kZWZzPiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBza2V0Y2g6dHlwZT0iTVNQYWdlIj4gICAgICAgIDxnIGlkPSJUYWJsZXQtOeKAsy1MYW5kc2NhcGUiIHNrZXRjaDp0eXBlPSJNU0FydGJvYXJkR3JvdXAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNzEuMDAwMDAwLCAtMjg0LjAwMDAwMCkiPiAgICAgICAgICAgIDxnIGlkPSJSZWN0YW5nbGUtOS1Db3B5LTMtKy1MaW5lLSstTGluZS1Db3B5IiBza2V0Y2g6dHlwZT0iTVNMYXllckdyb3VwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNzEuMDAwMDAwLCAyODQuMDAwMDAwKSI+ICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtOS1Db3B5LTMiIHN0cm9rZT0iIzY4Njg2OCIgZmlsbD0iIzM3MzczNyIgc2tldGNoOnR5cGU9Ik1TU2hhcGVHcm91cCIgeD0iMCIgeT0iMCIgd2lkdGg9IjEyIiBoZWlnaHQ9IjEyIj48L3JlY3Q+ICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0zLDcgTDQuNSw4LjUiIGlkPSJMaW5lIiBzdHJva2U9IiNBNkE2QTYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIgc2tldGNoOnR5cGU9Ik1TU2hhcGVHcm91cCI+PC9wYXRoPiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOSw0IEw0LjUsOC41IiBpZD0iTGluZS1Db3B5IiBzdHJva2U9IiNBNkE2QTYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIgc2tldGNoOnR5cGU9Ik1TU2hhcGVHcm91cCI+PC9wYXRoPiAgICAgICAgICAgIDwvZz4gICAgICAgIDwvZz4gICAgPC9nPjwvc3ZnPg==)",i="url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB3aWR0aD0iMTJweCIgaGVpZ2h0PSIxMnB4IiB2aWV3Qm94PSIwIDAgMTIgMTIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeG1sbnM6c2tldGNoPSJodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2gvbnMiPiAgICAgICAgPHRpdGxlPlJlY3RhbmdsZSA5PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPjwvZGVmcz4gICAgPGcgaWQ9IlBhZ2UtMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgc2tldGNoOnR5cGU9Ik1TUGFnZSI+ICAgICAgICA8ZyBpZD0iVGFibGV0LTnigLMtTGFuZHNjYXBlIiBza2V0Y2g6dHlwZT0iTVNBcnRib2FyZEdyb3VwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcxLjAwMDAwMCwgLTI0NC4wMDAwMDApIiBzdHJva2U9IiM2ODY4NjgiIGZpbGw9IiMzNzM3MzciPiAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtOSIgc2tldGNoOnR5cGU9Ik1TU2hhcGVHcm91cCIgeD0iMTcxIiB5PSIyNDQiIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiI+PC9yZWN0PiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+)";
this.eventCheckChanged.trigger(),this._domElement.style.backgroundImage=e?t:i},get:function(){return this._checked}},{key:"padding",set:function(e){_instanceof(e,Pico.Padding)&&_set(Object.getPrototypeOf(t.prototype),"padding",new Pico.Padding(e.top,e.left+16,e.bottom,e.right,this),this)}}]),t}(Pico.UI.Label),Pico.UI.ProgressBar=function(e){function t(e,i,o){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this));return n._innerDom=Pico.UI._newDomElement(),n._minimum="undefined"!=typeof i?i:0,n._maximum="undefined"!=typeof o?o:100,n._percentage="undefined"!=typeof e?e:0,n._percentage<i&&(n._percentage=i),n._percentage>o&&(n._percentage=o),n._domElement.className="pico-progressbar",n._innerDom.className="pico-progressbar-inner",n._innerDom.style.height="100%",n._domElement.appendChild(n._innerDom),n._apply(),n}return _inherits(t,e),_createClass(t,[{key:"_apply",value:function(){this._innerDom.style.width=(this._percentage-this._minimum)/(this._maximum-this._minimum)*this.size.width+"px"}},{key:"percentage",set:function(e){this._percentage=e,this._apply()},get:function(){return this._percentage}},{key:"minimum",set:function(e){this._minimum=e,this._apply()},get:function(){return this._minimum}},{key:"maximum",set:function(e){this._maximum=e,this._apply()},get:function(){return this._maximum}},{key:"size",set:function(e){_set(Object.getPrototypeOf(t.prototype),"size",e,this),"undefined"!=typeof this._innerDom&&this._apply()},get:function(){return _get(Object.getPrototypeOf(t.prototype),"size",this)}}]),t}(Pico.UI.Control);